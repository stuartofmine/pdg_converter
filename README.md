# pdg_converter
受人之托，把pdg文件转成pdf

## 环境准备
需要python环境。

安装依赖：

`pip install img2pdf    `

## 运行

`python pdg_conveter.py`

### 输入pdg目录
`请输入PDG文件夹路径: 【这里输入你的pdg文件目录】`

### 生成的pdf文件路径
`请输入输出PDF路径: [这里输入生成的pdf文件路径，注意以 .pdf 结尾]         `

### 实现逻辑

把pdg文件转成tiff再合成pdf。

1. **智能排序逻辑**：
   - `!`开头的文件（如`!00001.pdg`）排在最前面，按数字顺序
   - 纯数字文件（如`000001.pdg`）排在中间，按数字顺序
   - 特殊文件（`cov`, `fow`, `bok`等）按类型分组，再按数字排序
   - 定义了文件类型的优先级：封面(cov) → 前言(fow) → 版权(leg) → 书签(bok)

2. **排序键设计**：
   ```python
   # 返回元组 (优先级组, 数字)
   # !00001.pdg → (0, 1)
   # 000001.pdg → (1, 1)
   # cov001.pdg → (2, 1)
   # fow001.pdg → (3, 1)
   ```

3. **可视化排序顺序**：
   - 程序会显示前20个文件的排序顺序，方便验证是否正确

### 📋 处理你的文件列表

根据你的文件列表，排序后的顺序应该是：
1. `!00001.pdg` 到 `!00012.pdg`（前12页）
2. `000001.pdg` 到 `000440.pdg`（正文440页）
3. `cov001.pdg`, `cov002.pdg`, `cover.pdg`（封面）
4. `fow001.pdg` 到 `fow036.pdg`（前言）
5. `leg001.pdg`（版权）
6. `bok001.pdg`（书签）

### 💡 自定义排序

如果你想要不同的排序顺序，可以修改`get_sort_key`函数中的优先级：

```python
# 定义文件类型的优先级
type_priority = {
    'cov': 2,  # 封面
    'fow': 3,  # 前言
    'leg': 4,  # 版权
    'bok': 5,  # 书签
}
```

例如，如果你想让封面文件排在最前面，可以修改为：
```python
type_priority = {
    'cov': 0,  # 封面排在最前面
    'fow': 1,  # 然后是前言
    'leg': 2,  # 版权
    'bok': 3,  # 书签
}
```

### ⚠️ 注意事项

1. **文件完整性**：
   - 确保所有PDG文件都在同一文件夹
   - 检查是否有缺失页码

2. **特殊文件处理**：
   - `bok001.pdg`是书签文件，通常不需要包含在PDF中
   - 如果要排除某些文件，可以在`pdg_files`列表中过滤


